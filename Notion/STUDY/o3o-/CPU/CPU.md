**“Central Processing Unit”**

> [!info] CPU는 어떻게 작동할까?  
> 더 좋은 영상 제작을 위해 후원해 주시면 감사하겠습니다.  
> [https://www.youtube.com/watch?v=Fg00LN30Ezg](https://www.youtube.com/watch?v=Fg00LN30Ezg)  

> **컴퓨터 시스템을 통제하고 프로그램의 연산을 실행하고 처리하는 가장 핵심적인 제어장치**

## 구성 요소

**ALU ( Arithmetic Logic ) - 산술 및 논리 연산을 수행한다.**

**제어장치 - 명령어의 순서와 수행을 제어한다.**

**레지스터 - 데이터를 저장하는 장치**

  

### ALU

> **CPU의 핵심 요소로 다양한 산술 (**==**덧셈, 뺄셈, 곱셈, 나눗셈**==**) 및 논리 연산(** ==**비트![[image 32.png|image 32.png]] 32.png|image 32.png]]

1. **레지스터를 통해 입력받은** ==**피연산자**==**와** ==**제어 유닛**==**으로부터 받은 명령에 따라 연산을 수행**
2. **결과를 레지스터에 저장되어 필요에 따라 메모리에 전송된다.**

⇒ 레지스터 활용 이유 : CPU와 메모리간 전송 속도가 상대적으로 느리기 때문에

연산 결과를 Flag Register에 저장함으로, 추가적인 상태 정보 ( 플래그 )를 제공할 수 있다. 이는 결과가 양수인지 음수인지, 오버플로우 ( 연산 결과가 레지스터의 용량을 초과한 경우 )가 발생했는지 등의 정보를 나타낸다.

|   |   |
|---|---|
|종류|의미|
|**부호 플래그**|연산한 결과의 부호를 나타냄|
|**제로 플래그**|연산 결과가 0인지 여부를 나타냄|
|**캐리 플래그**|연산 결과 올림수나 빌림수가 발생했는지를 나타냄|
|**오버플로우 플래그**|오버플로우가 발생했는지를 나타냄|
|**인터럽트 플래그**|인터럽트가 가능한지를 나타냄|
|**슈퍼바이저 플래그**|커널 모드로 실행 중인지, 사용자 모드로 실행 중인지를 나타냄|

이런 플래그 정보를 통해 프로그![[image 1 10.png|image 1 10.png]]# 제어장치

![[/image 1 10.png|image 1 10.png]]

1. **제어 장치는** ==**클럭 신호**==**를 받아들인다.**
2. **레지스터로부터** ==**명령어 레지스터와 명령어**==**와,** ==**플래그 레지스터에서 플래그**==**를 받아들인다.**
3. **시스템 버스, 그 중** ==**제어 버스로 전달된 제어 신호**==**를 받아들인다.**

제어장치는 다음과 같은 제어신호를 생성하여 다른 하드웨어 구성 요소들에게 전달한다.

1. **CPU 외부에 위치한 여러 하드웨어 구성 요소들에게 제어 신호를 보낸다.**
    
    어떤 데이터가 메모리의 어떤 위치에 저장되어야 하는지, 어떤 메모리 위치에서 데이터를 가져와야 하는지 결정한다. 키보드, 마우스, 디스플레이 출력 등의 동작을 제어하기도 한다.
    
2. **CPU 내부에 위치한 ALU나 레지스터에게 내부 제어 신호를 생성한다.**
    
    두 수를 더하기, 비트를 시픝트, 두 값을 비교 등, 어떤 데이터가 어떤 레지스터에 저장되어야 하는지, 어떤 레지스터에서 다른 레지스터로 데이터가 ![[image 2 9.png|image 2 9.png]]CPU가 공통적으로 포함하고 있는 여덟 개의 레지스터

![[/image 2 9.png|image 2 9.png]]

1. **프로그램 카운터 ( Program Copunter, PC ) - 메모리에서 읽어 들일 명령어의 주소를 저장하는 레지스터**
2. **명령어 레지스터 ( Command Register, Instruction Register, IR ) - 현재 CPU가 해석하고 있는 명령어를 저장**
3. **메모리 주소 레지스터 ( Memory Address Register, MAR ) - 메모리의 주소를 저장**
4. **메모리 버퍼 레지스터 ( Memory Buffer Register, MBR ) - 메모리와 주고받을 데이터와 명령어를 저장**
5. **범용 레지스터 ( General Purpose Register ) - 다양한 목적에 맞게 사용할 수 있는 레지스터**
6. **플래그 레지스터 ( Flag Register ) - CPU가 수행한 최근 연산에 대한 정보, 그리고 CPU의 현재 상태를 나타내는 여러 플래그를 저장**
7. **스택 포인터 ( Stack pointer) - 스택의 가장 위를 가리키는 레![[image 3 9.png|image 3 9.png]]는 레지스터**

### 명령어의 구조

> **연산 코드와 오퍼랜드**

![[/image 3 9.png|image 3 9.png]]

**수행할 연산 - 연산 코드|연산에 사용할 데이터 또는 연산에 사용할 데이터 저장 위치 - 오퍼랜드**

**오퍼랜드는 주로** ==**데이터의 위치, 즉 메모리나 레지스터의 주소**==**를 담는다 →** ==**효율성, 메모리 관리**==

## 명령어 사이클

> **기본적으로 CPU가 프로그램을 실행하는 기본 단위**

**인출 사이클 ( Fetch cycle ) - CPU가 PC가 가리키는 메모리 주소에서 명령어를 가져온다.**

**디코딩 사이클 ( Decoding cycle ) - 인출된 명령어를 이해하고 실행할 수 있도록 해독**

**실행 사이클 ( Excute cycle ) - 해독된 명령어가 실제로 실행**

**저장 사이클 ( Store cycle ) - 실행 결과가 필요에 따라 메모리에 저장**

  

일![[image 4 6.png|image 4 6.png]] 포함할 수 있다.  
- 주소를 포함하는 명령어가 메모리에서 해당 주소를 찾아 그 값을 다시 참조해야하는 상황이다  

![[/image 4 6.png|image 4 6.png]]

## 인터럽트

> **CPU의 작업을 일시 중단 시키는 신호**

### 동기 인터럽트 ( Synchronous interrupt )

==**CPU가 실행 중인 명령어와 관련된 문제로 인해 발생하는 인터럽트**==**를 의미한다.  
소프트웨어 인터럽트  
ex) 연산 중 오버플로우, CPU가 정의하지 않은 명령어를 인식할 때 발생  
**

### 비동기 인터럽트 ( Asynchronous interrupts )

==**현재 CPU가 ![[image 5 6.png|image 5 6.png]]를 의미한다.  
하드웨어 인터럽트  
ex) 외부 하드웨어 장치들의 이벤트나 타이머 만료 등에 의해 발생  
**

### 하드웨어 인터럽트 처리 순

![[/image 5 6.png|image 5 6.png]]

## 클럭

**컴퓨터에서 특정한 간격으로 반복되는 신호**

**단위![[image 6 6.png|image 6 6.png]]==

  

## 파이프 라인

CPU 성능의 핵심 요소로, 프로세서 작업을 여러 단계로 분할하여 동시에 수행함으로써 처리 속도를 향상 시키는 기술이다.

**작동 원리**

![[/image 6 6.png|image 6 6.png]]

각각의 작업단계가 독립적으로 실행되며 결과물을 다음 단계로 전달한다. 이 과정의 중간 단계에서 발생하는 대기 시간이 최소화되어 전체적인 작업 속도가 향상된다.

  

**장점**

1. 전반적인 작업 속도와 처리 성능이 향상
2. 명령어 실행 시간의 부하를 감소시켜 단일 명령어 처리 시간이 줄어듬
3. 각 단계를 독립적으로 설계할 수 있어 각 단계를 개선하거나 최적화하는 여지가 많다.

  

**단점**

1. 파이프라인 구조에서 발생하는 의존성과 자원 충돌 문제로 성능 저하가 발생할 가능성 있음
2. 복잡한![[image 7 5.png|image 7 5.png]]음

## 트랜지스터

### 실리콘 - 최 외각 전자가 4개

원자![[image 8 5.png|image 8 5.png]]**실리콘을 배치하게 되면 최외곽 전자가 8개가 되어 안정적인 상태로 전류가 흐르지 않게 된다.**

![[/image 7 5.png|image 7 5.png]]

  

⇒ 전자가 한개 부족하거나 많은 원소를 추가해 전류를 흐르게 한다

![[/image 8 5.png|image 8 5.png]]

P형 반도체 : 전자가 한개 없는 원소를 추가한 반도체

N형 반도체 : 전자가 한개 더 있는 원소를 추가한 반도체

  

  

  

---

[https://coduking.tistory.com/entry/CPU란-구조와-역할-구성요소-성능향상-방법](https://coduking.tistory.com/entry/CPU란-구조와-역할-구성요소-성능향상-방법)

[https://yoonhs98.tistory.com/entry/%ED%95%98%EB%A3%A8%EC%97%90-%ED%95%98%EB%82%98%EC%94%A9-%EB%B0%B0%EC%9A%B0%EB%8A%94-%EC%BB%B4%ED%93%A8%ED%84%B0-%EC%82%AC%EC%9D%B4%EC%96%B8%EC%8A%A4-%EA%B0%9C%EB%85%90-CPU-%ED%8C%8C%EC%9D%B4%ED%94%84%EB%9D%BC%EC%9D%B8-%EC%9D%B4%ED%95%B4](https://yoonhs98.tistory.com/entry/%ED%95%98%EB%A3%A8%EC%97%90-%ED%95%98%EB%82%98%EC%94%A9-%EB%B0%B0%EC%9A%B0%EB%8A%94-%EC%BB%B4%ED%93%A8%ED%84%B0-%EC%82%AC%EC%9D%B4%EC%96%B8%EC%8A%A4-%EA%B0%9C%EB%85%90-CPU-%ED%8C%8C%EC%9D%B4%ED%94%84%EB%9D%BC%EC%9D%B8-%EC%9D%B4%ED%95%B4)