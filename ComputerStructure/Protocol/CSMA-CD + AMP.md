[https://vir-us.tistory.com/entry/CSMACD-AMP이란](https://vir-us.tistory.com/entry/CSMACD-AMP이란)

  

- **Carrier Sense :** ==**회선(매체)이 사용**==**되고 있는지에 따라 ( 전송 여부 식별하여)**
- **Multiple Access : 누구든** ==**동시에 접근**==**할 수 있으면서 (우선순위 없이 누구나)**
- **Collision Detection :** ==**충돌을 감지해 제어**==**하는 통신 방식**

  

**CSMA 방식에 충돌을 처리하는 절차를 추가한 통신방식으로** ==**충돌이 감지되는 즉시**== **전송을 종료하여 재시도를 시도하기 전에 필요한 시간을 단축함으로써** ==**CSMA 성능을 향상시키는 데 사용**==**된다.**

**→ 누구든 통신할 수 있지만, 현재 회선이 아무도 사용중이지 않아야하고, 두 매체가 동시에 신호를 보내려한다면 충돌이 감지되어 Jam신호를 보내고 랜덤한 시간뒤에 다시 신호를 보내는 통신방식**

  

**CSMA/CD는 로컬 영역 네트워킹에서 유선 Ethernet 기술에서 주로 사용하는 매체 접근 제어 (MAC) 방법.**

**이는 다른 스테이션들이 전송하지 않을 때까지 전송을 연기하기 위해** ==**캐리어 감지**==**를 사용**

  

> **Collision Domain**

**같은 물리적 매체에 연결된 장치들의 집합. 같은 도메인 내에서 2개 이상의 장치가 동시에 접근하려고 하는 경우 충돌**

> **Back-off Time**

**충동 발생 후 대기했다가 전송하기까지의 시간**

  

## 지속 방식(Persistent Mechanism)

### 1 - persistent

- 회선(매체)이 사용 중이 아니면 즉시 전송
- 회선(매체)이 사용 중이면 기다렸다가 채널이 비는 순간 즉시 전송

**⇒ 두 개 이상의 스테이션이 IDLE 상태인 것을 감지할 것이고 그런 경우에 모두 즉각 프레임을 전송하기 때문에 가장 높은 충돌 위험을 유발한다.**

  

### nonpersistent

- 회선(매체)이 사용 중이 아니면 즉시 전송
- 회선(매체)이 사용 중이면, 확률분포에서 구한 재전송 지연시간(random delay)만큼 기다림

**⇒ 두 개 이상의 스테이션이 같은 시간을 대기하고 있다가 동시에 전송할 확률이 낮기 때문에 충돌의 위험은 낮다. 그러나 전송할 프레임을 가진 스테이션이 있음에도 random delay로 인해 회선이 idle 상태에 있을 수 있기 때문에 회선 효율이 낮다.**

### p-persistent

- 회선(매체)이 사용 중이 아니라면, 확률 p로 전송하고 (1-p)의 확률로 하나의 Time Slot만큼 지연시킨후 회선을 감지
- 회선(매체)이 사용 중이면 기다렸다가 채널이 비는 순간 확률 p로 전송하고 확률 (1-p)로 하나의 Time Slot만큼 지연시킨후 회선을 다시 감지

**⇒ 위 두가지를 합한 방식이며, 충돌의 위험을 줄이면서 회선 효율을 높인다.**

  

## ==Procedure==

![[image 38.png|image 38.png]]

  

Persistent Mechanism중 하나를 사용

1. frame을 전송할 준비가 되었는지?
2. 회선이 IDLE 상태인지?
3. 전송을 시작하고 전소 중 충돌을 모니터링한다.
4. 충돌이 발생했는지? 발생하지 않았다면 frame 전송을 완료한다.
5. 재전송 카운터를 재설정하고 frame 전송을 완료한다.

  

> **Collision detected procedure (충돌감지절차)**

1. 모든 수신기가 충동을 감지할 수 있도록 최소 패킷 시간에 도달할 때까지 전송을 계속한다.
2. 재전송 카운트를 증가시킨다
3. 최대 전송 시도 횟수 (>15)에 도달했는지>
4. 충동 횟수에 따라 임의 백오프 기간을 계산하고 대기한다.
5. 반복

  

  

## +AMP

**CAN 통신에 사용되는 방식. 반이중 통신일때 신호간 충돌이 발생했을 때 충돌에 대한 대응 방식을 기존 CSMA/CD에서 추가한 방식이다.**

  

> **Arbitraction on Message Priority**

**메시지 식별자(ID)가 낮을 수록, 우선순위가 높다.**

  

**두 메시지가 동시 수신시,** ==**우선순위 높은 메세지가 먼저 전송**==**된다. 낮은 우선순위 메세지는 후에 재전송된다. 따라서 메세지 간 충돌이 발생하더라도** ==**중요 메세지는 반드시 전송**==**된다.**